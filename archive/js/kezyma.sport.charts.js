var charts = {
    "MMA": {
        "Stats": [
            {
                "Id": "Total_Fights_per_Month_1990_2021",
                "Title": "Total Fighter per Month (1990-2021)",
                "Date": new Date(2022, 02, 01),
                "Url": "https://www.reddit.com/r/MMA/comments/sht471/total_fights_per_month_19902021_visualising_the/"
            },
            {
                "Id": "Betting_Odds_for_every_UFC_title_fight_where_the_champion_lost_their_belt",
                "Title": "Betting Odds for every UFC title fight where the champion lost their belt",
                "Date": new Date(2022, 01, 21),
                "Url": "https://www.reddit.com/r/MMA/comments/s99tc0/betting_odds_according_to_tapology_for_every_ufc/"
            },
            {
                "Id": "UFC_Rankings_Entire_Rankings_History_Summary_Heavyweight",
                "Title": "UFC Rankings - Entire Rankings History Summary (Heavyweight)",
                "Date": new Date(2022, 01, 05),
                "Url": "https://www.reddit.com/r/MMA/comments/rwnpnv/ufc_rankings_entire_rankings_history_summary/"
            },
            {
                "Id": "UFC_Rankings_Entire_Rankings_History_Summary_LightHeavyweight",
                "Title": "UFC Rankings - Entire Rankings History Summary (Light Heavyweight)",
                "Date": new Date(2022, 01, 05),
                "Url": "https://www.reddit.com/r/MMA/comments/rwnpnv/ufc_rankings_entire_rankings_history_summary/"
            },
            {
                "Id": "UFC_Rankings_Entire_Rankings_History_Summary_Middleweight",
                "Title": "UFC Rankings - Entire Rankings History Summary (Middleweight)",
                "Date": new Date(2022, 01, 05),
                "Url": "https://www.reddit.com/r/MMA/comments/rwnpnv/ufc_rankings_entire_rankings_history_summary/"
            },
            {
                "Id": "UFC_Rankings_Entire_Rankings_History_Summary_Welterweight",
                "Title": "UFC Rankings - Entire Rankings History Summary (Welterweight)",
                "Date": new Date(2022, 01, 05),
                "Url": "https://www.reddit.com/r/MMA/comments/rwnpnv/ufc_rankings_entire_rankings_history_summary/"
            },
            {
                "Id": "UFC_Rankings_Entire_Rankings_History_Summary_Lightweight",
                "Title": "UFC Rankings - Entire Rankings History Summary (Lightweight)",
                "Date": new Date(2022, 01, 05),
                "Url": "https://www.reddit.com/r/MMA/comments/rwnpnv/ufc_rankings_entire_rankings_history_summary/"
            },
            {
                "Id": "UFC_Rankings_Entire_Rankings_History_Summary_Featherweight",
                "Title": "UFC Rankings - Entire Rankings History Summary (Featherweight)",
                "Date": new Date(2022, 01, 05),
                "Url": "https://www.reddit.com/r/MMA/comments/rwnpnv/ufc_rankings_entire_rankings_history_summary/"
            },
            {
                "Id": "UFC_Rankings_Entire_Rankings_History_Summary_Bantamweight",
                "Title": "UFC Rankings - Entire Rankings History Summary (Bantamweight)",
                "Date": new Date(2022, 01, 05),
                "Url": "https://www.reddit.com/r/MMA/comments/rwnpnv/ufc_rankings_entire_rankings_history_summary/"
            },
            {
                "Id": "UFC_Rankings_Entire_Rankings_History_Summary_Flyweight",
                "Title": "UFC Rankings - Entire Rankings History Summary (Flyweight)",
                "Date": new Date(2022, 01, 05),
                "Url": "https://www.reddit.com/r/MMA/comments/rwnpnv/ufc_rankings_entire_rankings_history_summary/"
            },
            {
                "Id": "UFC_Rankings_Entire_Rankings_History_Summary_P4P",
                "Title": "UFC Rankings - Entire Rankings History Summary (Pound for Pound)",
                "Date": new Date(2022, 01, 05),
                "Url": "https://www.reddit.com/r/MMA/comments/rwnpnv/ufc_rankings_entire_rankings_history_summary/"
            },
            {
                "Id": "UFC_Rankings_Entire_Rankings_History_Summary_Womens_Bantamweight",
                "Title": "UFC Rankings - Entire Rankings History Summary (Women's Bantamweight)",
                "Date": new Date(2022, 01, 05),
                "Url": "https://www.reddit.com/r/MMA/comments/rwnpnv/ufc_rankings_entire_rankings_history_summary/"
            },
            {
                "Id": "UFC_Rankings_Entire_Rankings_History_Summary_Womens_Flyweight",
                "Title": "UFC Rankings - Entire Rankings History Summary (Women's Flyweight)",
                "Date": new Date(2022, 01, 05),
                "Url": "https://www.reddit.com/r/MMA/comments/rwnpnv/ufc_rankings_entire_rankings_history_summary/"
            },
            {
                "Id": "UFC_Rankings_Entire_Rankings_History_Summary_Womens_Strawweight",
                "Title": "UFC Rankings - Entire Rankings History Summary (Women's Strawweight)",
                "Date": new Date(2022, 01, 05),
                "Url": "https://www.reddit.com/r/MMA/comments/rwnpnv/ufc_rankings_entire_rankings_history_summary/"
            },
            {
                "Id": "UFC_Rankings_Entire_Rankings_History_Summary_Womens_P4P",
                "Title": "UFC Rankings - Entire Rankings History Summary (Women's Pound for Pound)",
                "Date": new Date(2022, 01, 05),
                "Url": "https://www.reddit.com/r/MMA/comments/rwnpnv/ufc_rankings_entire_rankings_history_summary/"
            },
            {
                "Id": "Finish_Method_by_Weight_Class",
                "Title": "Finish Method by Weight Class",
                "Url": "https://www.reddit.com/r/MMA/comments/lzzdui/wholehistory_ratings_best_charts_stats_compilation/",
                "Date": new Date(2021, 03, 07)
            },
            {
                "Id": "Win_Probability_by_Height_Advantage",
                "Title": "Win Probability by Height Advantage",
                "Url": "https://www.reddit.com/r/MMA/comments/lzzdui/wholehistory_ratings_best_charts_stats_compilation/",
                "Date": new Date(2021, 03, 07)
            },
            {
                "Id": "Win_Probability_by_Reach_Advantage",
                "Title": "Win Probability by Reach Advantage",
                "Url": "https://www.reddit.com/r/MMA/comments/lzzdui/wholehistory_ratings_best_charts_stats_compilation/",
                "Date": new Date(2021, 03, 07)
            }
        ],
        "Whole-History": [
            {
                "Id": "Age_of_Peak_Rating_Major_Promotions",
                "Title": "Age of Peak Rating (Major Promotions)",
                "Url": "https://www.reddit.com/r/MMA/comments/lzzdui/wholehistory_ratings_best_charts_stats_compilation/",
                "Date": new Date(2021, 03, 07)
            },
            {
                "Id": "Age_of_Peak_Rating_by_Weight_Class_Major_Promotions",
                "Title": "Age of Peak Rating by Weight Class (Major Promotions)",
                "Url": "https://www.reddit.com/r/MMA/comments/lzzdui/wholehistory_ratings_best_charts_stats_compilation/",
                "Date": new Date(2021, 03, 07)
            },
            {
                "Id": "Relative_Strength_of_Weight_Classes_Top_20_UFC",
                "Title": "Relative Strength of Weight Classes (Top 20, UFC)",
                "Url": "https://www.reddit.com/r/MMA/comments/lzzdui/wholehistory_ratings_best_charts_stats_compilation/",
                "Date": new Date(2021, 03, 07)
            },
            {
                "Id": "Relative_Strength_of_Weight_Classes_Top_50_Worldwide",
                "Title": "Relative Strength of Weight Classes (Top 50, Worldwide)",
                "Url": "https://www.reddit.com/r/MMA/comments/lzzdui/wholehistory_ratings_best_charts_stats_compilation/",
                "Date": new Date(2021, 03, 07)
            },
            {
                "Id": "Win_Probability_by_Rating_Advantage_Major_Promotions",
                "Title": "Win Probability by Rating Advantage (Major Promotions)",
                "Url": "https://www.reddit.com/r/MMA/comments/lzzdui/wholehistory_ratings_best_charts_stats_compilation/",
                "Date": new Date(2021, 03, 07)
            },
            {
                "Id": "Fighter_Ratings_Over_Time",
                "Title": "Fighter Ratings Over Time",
                "Url": "https://www.reddit.com/r/MMA/comments/lzzdui/wholehistory_ratings_best_charts_stats_compilation/",
                "Date": new Date(2021, 03, 07)
            },
            {
                "Id": "Relative_Strength_of_MMA_Promotions",
                "Title": "Relative Strength of MMA Promotions (Top 30)",
                "Url": "https://www.reddit.com/r/MMA/comments/lzzdui/wholehistory_ratings_best_charts_stats_compilation/",
                "Date": new Date(2021, 03, 07)
            },
            {
                "Id": "Age_of_Fighters_at_Time_of_Peak_Whole_History_Rating",
                "Title": "Age of Fighters at Time of Peak Whole-History Rating",
                "Url": "https://www.reddit.com/r/MMA/comments/lydqgt/wholehistory_ratings_identifying_a_fighters_prime/",
                "Date": new Date(2021, 03, 05)
            },
            {
                "Id": "Age_of_Fighters_at_Time_of_Peak_Whole_History_Rating_Major_Promotions",
                "Title": "Age of Fighters at Time of Peak Whole-History Rating (Major Promotions)",
                "Url": "https://www.reddit.com/r/MMA/comments/lydqgt/wholehistory_ratings_identifying_a_fighters_prime/",
                "Date": new Date(2021, 03, 05)
            },
            {
                "Id": "Average_Rating_by_Age_and_Weight_Class_2015_Present",
                "Title": "Average Rating by Age and Weight Class (2015-Present)",
                "Url": "https://www.reddit.com/r/MMA/comments/lydqgt/wholehistory_ratings_identifying_a_fighters_prime/",
                "Date": new Date(2021, 03, 05)
            },
            {
                "Id": "Frequency_of_Fighters_with_Peak_Rating_at_Age_Major_Promotions",
                "Title": "Frequency of Fighters with Peak Rating at Age (Major Promotions)",
                "Url": "https://www.reddit.com/r/MMA/comments/lydqgt/wholehistory_ratings_identifying_a_fighters_prime/",
                "Date": new Date(2021, 03, 05)
            },
            {
                "Id": "Peak_Ages_by_Weight_and_Gender",
                "Title": "Peak Ages by Weight & Gender",
                "Url": "https://www.reddit.com/r/MMA/comments/lydqgt/wholehistory_ratings_identifying_a_fighters_prime/",
                "Date": new Date(2021, 03, 05)
            },
            {
                "Id": "Age_at_Peak_Whole_History_Rating_Major_Promotions",
                "Title": "Age at Peak Whole-History Rating (Major Promotions)",
                "Url": "https://www.reddit.com/r/MMA/comments/lydqgt/wholehistory_ratings_identifying_a_fighters_prime/",
                "Date": new Date(2021, 03, 05)
            },
            {
                "Id": "Rating_History_of_Most_Dominant_Fighter_Each_Weight_Class",
                "Title": "Rating History of the Most Dominant Fighter in each Weight Class",
                "Url": "https://www.reddit.com/r/MMA/comments/feywqo/wholehistory_ratings_ufc_248_ratings_historical/",
                "Date": new Date(2020, 03, 07)
            },
            {
                "Id": "Total_Months_Each_Fighter_Was_Top_Rated_in_their_Weight_Class",
                "Title": "Total Months each Fighter was Top Rated in their Weight Class",
                "Url": "https://www.reddit.com/r/MMA/comments/feywqo/wholehistory_ratings_ufc_248_ratings_historical/",
                "Date": new Date(2020, 03, 07)
            },
            {
                "Id": "Top_Rated_Fighter_Each_Month_By_Weight_Class",
                "Title": "Top Rated Fighter each Month by Weight Class",
                "Url": "https://www.reddit.com/r/MMA/comments/feywqo/wholehistory_ratings_ufc_248_ratings_historical/",
                "Date": new Date(2020, 03, 07)
            },
            {
                "Id": "Total_Months_Each_Fighter_Was_Top_Rated",
                "Title": "Total Months each Fighter was Top Rated",
                "Url": "https://www.reddit.com/r/MMA/comments/fczimq/wholehistory_ratings_taking_a_look_at_the_alltime/",
                "Date": new Date(2020, 03, 03)
            },
            {
                "Id": "Rating_History_of_GOAT_Contenders",
                "Title": "Rating History of GOAT Contenders",
                "Url": "https://www.reddit.com/r/MMA/comments/fczimq/wholehistory_ratings_taking_a_look_at_the_alltime/",
                "Date": new Date(2020, 03, 03)
            },
            {
                "Id": "Rating_History_of_Top_3_Heavyweights",
                "Title": "Rating History of Top 3 Heavyweights",
                "Url": "https://www.reddit.com/r/MMA/comments/fczimq/wholehistory_ratings_taking_a_look_at_the_alltime/",
                "Date": new Date(2020, 03, 03)
            },
            {
                "Id": "Rating_History_of_Current_Light_Heavyweight_Contenders",
                "Title": "Rating History of Current Light Heavyweight Contenders",
                "Url": "https://www.reddit.com/r/MMA/comments/fczimq/wholehistory_ratings_taking_a_look_at_the_alltime/",
                "Date": new Date(2020, 03, 03)
            },
            {
                "Id": "Rating_of_Fighters_Over_Time_5_Fights",
                "Title": "Rating of Fighters Over Time (>= 5 Fights)",
                "Url": "https://www.reddit.com/r/MMA/comments/ei49mr/wholehistory_ratings_average_skill_rating_and/",
                "Date": new Date(2019, 12, 31)
            },
            {
                "Id": "Percentage_of_Fights_Won_Compared_to_Rating_Advantage",
                "Title": "Percentage of Fights Won Compared to Rating Advantage",
                "Url": "https://www.reddit.com/r/MMA/comments/eghn4s/wholehistory_ratings_win_percentage_by_advantage/",
                "Date": new Date(2019, 12, 27)
            },
            {
                "Id": "Percentage_of_Fights_Won_Compared_to_Rating_Advantage_Top_50",
                "Title": "Percentage of Fights Won Compared to Rating Advantage (Top 50%)",
                "Url": "https://www.reddit.com/r/MMA/comments/eghn4s/wholehistory_ratings_win_percentage_by_advantage/",
                "Date": new Date(2019, 12, 27)
            },
            {
                "Id": "Frequency_of_Rating_Advantage",
                "Title": "Frequency of Rating Advantage",
                "Url": "https://www.reddit.com/r/MMA/comments/eghn4s/wholehistory_ratings_win_percentage_by_advantage/",
                "Date": new Date(2019, 12, 27)
            }
        ]
    },
    "F1": {
        "Stats": [
            {
                "Id": "Average_Difference_in_Driver_Position_to_Car_Position_for_the_2022_Grid",
                "Title": "Average Difference in Driver Position to Car Position for the 2022 Grid",
                "Date": new Date(2022, 01, 28),
                "Url": "https://www.reddit.com/r/formula1/comments/sexj1p/average_difference_in_driver_position_to_car/"
            },
            {
                "Id": "Average_Finish_Position_for_Races_Entered_of_the_Top_3_Drivers_for_Every_F1_Season",
                "Title": "Average Finish Position for Races Entered of the Top 3 Drivers for Every F1 Season",
                "Date": new Date(2022, 01, 28),
                "Url": "https://www.reddit.com/r/formula1/comments/sesjir/average_finish_position_for_races/"
            },
            {
                "Id": "Average_Finish_Position_for_Races_Completed_of_the_Top_3_Drivers_for_Every_F1_Season",
                "Title": "Average Finish Position for Races Completed of the Top 3 Drivers for Every F1 Season",
                "Date": new Date(2022, 01, 28),
                "Url": "https://www.reddit.com/r/formula1/comments/sesjir/average_finish_position_for_races/"
            },
            {
                "Id": "Average_Finish_Position_for_Races_Completed_of_the_2021_grid",
                "Title": "Average Finish Position for Races Completed of the 2021 Grid",
                "Date": new Date(2022, 01, 28),
                "Url": "https://www.reddit.com/r/formula1/comments/sesjir/average_finish_position_for_races/"
            },
            {
                "Id": "All_Time_Driver_Standings_if_every_F1_Season_Awarded_Race_Points_for_Position_by_Total",
                "Title": "All Time Driver Standings if every F1 Season Awarded Race Points for Position (by Total)",
                "Url": "https://www.reddit.com/r/formula1/comments/rvr3do/all_time_driver_standings_if_every_f1_season/",
                "Date": new Date(2022, 01, 04)
            },
            {
                "Id": "All_Time_Driver_Standings_if_every_F1_Season_Awarded_Race_Points_for_Position_by_PtsYr",
                "Title": "All Time Driver Standings if every F1 Season Awarded Race Points for Position (by Pts/Yr)",
                "Url": "https://www.reddit.com/r/formula1/comments/rvr3do/all_time_driver_standings_if_every_f1_season/",
                "Date": new Date(2022, 01, 04)
            }
        ],
        "Whole-History": [
            {
                "Id": "F1_2021_Season_Whole_History_Ratings_Race_by_Race",
                "Title": "F1 2021 Season - Whole-History Ratings, Race by Race",
                "Date": new Date(2022, 01, 09),
                "Url": "https://www.reddit.com/r/formula1/comments/rze707/f1_2021_season_wholehistory_ratings_race_by_race/"
            },
            {
                "Id": "Whole_History_Ratings_Absolute_Ratings",
                "Title": "Whole-History Ratings - Absolute Ratings",
                "Date": new Date(2021, 09, 14),
                "Url": "https://www.reddit.com/r/formula1/comments/po4bs1/wholehistory_ratings_comparing_the_relative/"
            },
            {
                "Id": "Whole_History_Ratings_Driver_Relative_Ratings",
                "Title": "Whole-History Ratings - Driver Relative Ratings",
                "Date": new Date(2021, 09, 14),
                "Url": "https://www.reddit.com/r/formula1/comments/po4bs1/wholehistory_ratings_comparing_the_relative/"
            },
            {
                "Id": "Whole_History_Ratings_Constructor_Ratings",
                "Title": "Whole-History Ratings - Constructor Ratings",
                "Date": new Date(2021, 09, 14),
                "Url": "https://www.reddit.com/r/formula1/comments/po4bs1/wholehistory_ratings_comparing_the_relative/"
            }
        ]
    },
    "MotoGP": {
        "All": [
            {
                "Id": "All_Time_Rider_Standings_if_every_500cc_MotoGP_Season_Awarded_Race_Points_for_Position_by_Total",
                "Title": "All Time Rider Standings if every 500cc/MotoGP Season Awarded Race Points for Position (by Total)",
                "Url": "https://www.reddit.com/r/motogp/comments/rw4c9s/all_time_rider_standings_if_every_500ccmotogp/",
                "Date": new Date(2022, 01, 04)
            },
            {
                "Id": "All_Time_Rider_Standings_if_every_500cc_MotoGP_Season_Awarded_Race_Points_for_Position_by_PtsYr",
                "Title": "All Time Rider Standings if every 500cc/MotoGP Season Awarded Race Points for Position (by Pts/Yr)",
                "Url": "https://www.reddit.com/r/motogp/comments/rw4c9s/all_time_rider_standings_if_every_500ccmotogp/",
                "Date": new Date(2022, 01, 04)
            }
        ]
    }
}

$(document).ready(function () {
    bindCategoryFilter();
});


$("#sportFilter").change(function () {
    bindCategoryFilter();
});

$("#categoryFilter").change(function () {
    bindChartFilter();
});

$("#chartFilter").change(function () {
    bindChart();
});

function bindCategoryFilter() {
    var sport = $("#sportFilter").val();
    var cats = Object.keys(charts[sport]);
    $("#categoryFilter").html("");
    for (var i = 0; i < cats.length; i++) {
        $("#categoryFilter").append($("<option value='" + cats[i] + "'>" + cats[i] + "</option>"));
    }
    bindChartFilter();
}

function bindChartFilter() {
    var sport = $("#sportFilter").val();
    var cat = $("#categoryFilter").val();
    var chartOpts = charts[sport][cat];
    $("#chartFilter").html("");
    for (var i = 0; i < chartOpts.length; i++) {
        $("#chartFilter").append("<option value='" + chartOpts[i]["Id"] + "'>" + chartOpts[i]["Date"].toISOString().split('T')[0] + " " + chartOpts[i]["Title"] + "</option>");
    }
    bindChart();
}

function bindChart() {
    var sport = $("#sportFilter").val();
    var cat = $("#categoryFilter").val();
    var id = $("#chartFilter").val();
    var catObj = charts[sport][cat];
    var thisChart = catObj.filter(c => c["Id"] == id)[0];
    $("#chartTitle").text(thisChart["Title"]);
    $("#chartPost").prop("href", thisChart["Url"]);
    $("#chartImg").prop("src", "img/sportcharts/" + thisChart["Id"] + ".png");
}